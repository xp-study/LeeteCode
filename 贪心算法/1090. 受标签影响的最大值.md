class Solution {
    public int largestValsFromLabels(int[] values, int[] labels, int num_wanted, int use_limit) {
        // 边界情况
        if (num_wanted == 0 || use_limit == 0) {
            return 0;
        }
        int len = values.length;
        int[][] pairs = new int[len][2];
        for(int i = 0; i < len; i++){
            pairs[i][0] = values[i];
            pairs[i][1] = labels[i];
        }
        // 按照 value 降序排列
        Arrays.sort(pairs,(o1,o2)-> o2[0]-o1[0]);
        // 记录当前label选择的数量
        int[] numLabel = new int[20001];  // max{label} = 20000
        int ans = 0;
        // 记录选择的总数 |S|
        int cnt = 0;
        for(int i = 0; i < len; i++){
            int lab = pairs[i][1];
            if(numLabel[lab] >= use_limit)
                continue;
            ans += pairs[i][0];
            numLabel[lab]++;
            cnt++;
            if(cnt >= num_wanted)
                return ans;
        }
        return ans;
        
    }
}
